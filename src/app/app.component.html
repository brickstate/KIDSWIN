<!-- Header (mat-toolbar) with navigation and login button -->
<mat-toolbar class="toolbar">
  <img src="assets/kids-win.png" alt="Logo" class="logo" />
  <span><p>KIDSWIN</p></span>
  <span class="spacer"></span>

  <a mat-flat-button routerLink="/about">About Us</a>
  <a mat-button routerLink="/">Home</a>

    <!-- Login Buttons -->
  <span *ngIf="!auth.isLoggedIn()">
    <button mat-button (click)="showLogin('Teacher')">Login as Teacher</button>
    <button mat-button (click)="showLogin('Parent')">Login as Parent</button>
  </span>

  <span *ngIf="auth.isLoggedIn()">
    Logged in as {{ auth.role }} ({{ auth.username }})
    <button mat-button (click)="logout()">Logout</button>
  </span>

</mat-toolbar>

<!-- Login form -->
<div *ngIf="showForm">
  <input [(ngModel)]="username" placeholder="Username">
  <input [(ngModel)]="password" placeholder="Password" type="password">
  <button (click)="submitLogin()">Submit</button>
  <button (click)="cancelLogin()">Cancel</button>
  <p *ngIf="loginFailed">Login failed</p>
</div>

<!-- Asks user to login -->
<pre *ngIf="!auth.isLoggedIn() && !showForm">
 ___________________________________________
|                                           |
|                                           |
|                                           |
|                                           |
|           please login to continue        |
|                                           |
|                                           |
|                                           |
|___________________________________________|
</pre>

<!-- Load routed components here -->
<router-outlet></router-outlet>

<!-- Teacher-only link -->
<div *ngIf="auth.role === 'Teacher'">
  <a routerLink="/attendance">Attendance for [student]</a>
  <br><br>
  <app-milestone></app-milestone>
</div>

<!-- Footer (mat-toolbar) -->
<mat-toolbar class="footer">
  <span class="footer-text">Â© 2025 KidsWin. All rights reserved.</span>
</mat-toolbar>
